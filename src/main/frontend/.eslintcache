[{"/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/index.js":"1","/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/App.js":"2","/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/reportWebVitals.js":"3"},{"size":500,"mtime":1612299043395,"results":"4","hashOfConfig":"5"},{"size":2162,"mtime":1612323393150,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1612299043395,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"9i2su6",{"filePath":"11","messages":"12","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13","usedDeprecatedRules":"10"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/index.js",[],["17","18"],"/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/App.js",["19","20"],"import React, {useState, useEffect, useCallback} from \"react\";\nimport axios from \"axios\";\nimport {useDropzone} from \"react-dropzone\";\nimport './App.css';\n\nconst UserProfiles = () => {\n\n  const [userProfiles, setUserProfiles] = useState([]);\n\n  const fetchUserProfiles = () => {\n    axios.get(\"http://localhost:8080/api/v1/user-profile\").then(res => {\n      console.log(res.data);\n      setUserProfiles(res.data);\n    })\n  }\n\n  useEffect(() => {\n    fetchUserProfiles();\n  }, []);\n\n  return userProfiles.map((userProfile, index) => {\n    return (\n        <div key={index}>\n          {userProfile.userProfileImageLink ? (\n              <img className=\"profile\"\n                  src={`http://localhost:8080/api/v1/user-profile/${userProfile.userProfileId}/image/download`}\n              />\n          ) : null}\n          <br/>\n          <br/>\n          <h1>{userProfile.userName}</h1>\n          <p>{userProfile.userProfileId}</p>\n          <Dropzone userProfileId={userProfile.userProfileId} func={fetchUserProfiles}/>\n          <br/>\n        </div>\n    )\n  });\n}\n\nfunction Dropzone({ userProfileId, func }) {\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    console.log(file);\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    axios.post(\n        `http://localhost:8080/api/v1/user-profile/${userProfileId}/image/upload`,\n        formData,\n        {\n            headers: {\n                \"Content-type\": \"multipart/form-data\"\n            }\n        }\n    ).then(() => {\n        console.log(\"File uploaded successfully\");\n        func();\n        this.forceUpdate();\n    }).catch(err => {\n        console.log(err);\n    });\n  }, [])\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n  return (\n      <div {...getRootProps()}>\n        <input {...getInputProps()} />\n        {\n          isDragActive ?\n              <p>Drop the image here ...</p> :\n              <p>Drag 'n' drop profile image, or click to select profile image</p>\n        }\n      </div>\n  )\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserProfiles/>\n    </div>\n  );\n}\n\nexport default App;\n","/app/data/src/git/aws-image-upload/aws-image-upload/src/main/frontend/src/reportWebVitals.js",[],["21","22"],{"ruleId":"23","replacedBy":"24"},{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","severity":1,"message":"28","line":25,"column":15,"nodeType":"29","endLine":27,"endColumn":17},{"ruleId":"30","severity":1,"message":"31","line":62,"column":6,"nodeType":"32","endLine":62,"endColumn":8,"suggestions":"33"},{"ruleId":"23","replacedBy":"34"},{"ruleId":"25","replacedBy":"35"},"no-native-reassign",["36"],"no-negated-in-lhs",["37"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'func' and 'userProfileId'. Either include them or remove the dependency array. If 'func' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["38"],["36"],["37"],"no-global-assign","no-unsafe-negation",{"desc":"39","fix":"40"},"Update the dependencies array to be: [func, userProfileId]",{"range":"41","text":"42"},[1689,1691],"[func, userProfileId]"]